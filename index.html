<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">

  <title>Check It</title>


</head>

<body>


  <div id="nav">
    <div class="slider">
      <ul class="slides">
        <li>
          <img src="assets/images/write.jpg">
          <div class="caption center-align">
            <h3>Check It ✓</h3>
            <h5 class="light grey-text text-lighten-3">The coolest tool in school</h5>
          </div>
        </li>
        <li>
          <img src="assets/images/write.jpg">
          <div class="caption left-align">
            <h3>What is Check It ✓?</h3>
            <h5 class="light grey-text text-lighten-3">Check It ✓ is a fundamental tool made for anyone struggling to write, giving synonyms, grammar checks, and defintions,
              all in one!</h5>
          </div>
        </li>
      </ul>
    </div>
  </div>




  <div id="all">
    <div class="row">
      <div class="col s12 m6">
        <div class="card grey darken-1 z-depth-5">
          <span class="card-title">Original:</span>
          <div class="row">
            <form class="col s12">
              <div class="row">
                <div class="input-field col s12">
                  <textarea id="firstBox" class="materialize-textarea" placeholder="Click here to start your original copy..."></textarea>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>


      <div class="col s12 m6">
        <div class="card grey darken-1 z-depth-5">
          <span class="card-title">Final:</span>
          <div class="row">
            <form class="col s12">
              <div class="row">
                <div class="input-field col s12">
                  <textarea id="secondBox" class="materialize-textarea" placeholder="Final copy will appear here..."></textarea>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>



  <div id="buttons">
    <div class="row">

      <container id="newText">
        <a class="waves-effect waves-light btn grey darken-1 z-depth-5">Check Me ✓</a>
      </container>
    </div>
    <div class="row">
      <container id="clear">
        <a class="waves-effect waves-light btn grey darken-1 z-depth-5"> Clear All </a>
      </container>
    </div>
  </div>


  <div id="last">
    <div class="row">
      <div class="col s12 m6">
        <div class="card grey darken-1 z-depth-5">
          <div class="row">
            <form class="col s12">
              <div class="row">
                <div class="input-field col s12">
                  <textarea id="word" class="materialize-textarea" placeholder="Insert Word for a definition..."></textarea>
                  <textarea id="definition" class="materialize-textarea" placeholder="Results..."></textarea>
                </div>
              </div>
            </form>
          </div>
        </div>



        <div id="button">
          <div class="row">
            <container id="search">
              <a class="waves-effect waves-light btn grey darken-1 z-depth-5"> Search It </a>
            </container>
          </div>
        </div>
      </div>
    </div>




    <!-- JAVASCRIPT -->



    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    <!-- ================================================================== -->

    <script>

      $("#clear").click(function () {
        $("textarea").val("");
      });

      $(document).ready(function () {
        $('.slider').slider();
      });



      // Pause slider
      $('.slider').slider('pause');
      // Start slider
      $('.slider').slider('start');
      // Next slide
      $('.slider').slider('next');
      // Previous slide
      $('.slider').slider('prev');


      // ================================================================== -->

      function grammar(text) {

        var queryURL = "https://api.textgears.com/check.php?text=" + text + "&key=UTwhCrerzebHa6Bh";
        

        $.ajax({
          method: "GET",
          url: queryURL
        }).then(function (response) {
          if (response.errors.length == 0) {
          } else {
            for (var i = 0; i < response.errors.length; i++) {
              if (response.errors[i].bad.length > 1) {
                text = text.replace(response.errors[i].bad, response.errors[i].better[0]);
                $("#secondBox").text(text);
              }
            }
          }
        })
      };


      $(document).ready(function () {
        $("#newText").on("click", function () {

          var text = $("#firstBox").val()

          $.ajax({ method: "post", url: "http://api.spinbot.net/api/spinner?key=092deb0523426e92f62a15eae82d012c&text=" + text })
            .then(function (response) {
              grammar(response.spun_text)
            })
        })
      });


      $(document).ready(function () {
        $("#newText").on("click", function () {

          var text = $("#firstBox").val()

          $.ajax({ method: "post", url: "http://api.spinbot.net/api/spinner?key=092deb0523426e92f62a15eae82d012c&text=" + text })
            .then(function (response) {
              grammar(response.spun_text)

            })
        })
      });


      $(function () {
        $("#search").on("click", function (event) {
          event.preventDefault();



          var definition = $("#word").val().trim();

          var queryURL = "https://cors-anywhere.herokuapp.com/https://owlbot.info/api/v2/dictionary/" + definition + "?format=json";


          $.ajax({
            method: 'GET',
            url: queryURL,
            headers: {
              'Access-Control-Allow-Origin': '*',
              'Content-Type': 'application/json'
            }
          }).then(function (response) {


            $("#definition").empty();

            for (var i = 0; i < response.length; i++) {

              $("#definition").append(response[i].definition)
            }



          }); // END THEN ON AJAX TO TEXTGEARS

        }); // END CLICK ON FORM SUBMIT BUTTON

      }); // END READY


    </script>

</body>

</html>